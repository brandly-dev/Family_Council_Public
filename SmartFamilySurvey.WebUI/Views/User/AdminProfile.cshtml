@model ESS.SFS.ViewModel.UserViewModel
@{
    ViewData["Title"] = "UserProfile";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<style>
    body {
        height: 100% !important;
    }
</style>
<div class="w-15 bg-themebrown">
    <div class="">
        <h3 class="SurveyTitle">Профил</h3>
        <ul class="Sidebarnav">
            <li class="active">
                <a href="javascript:;">Настройки</a>
            </li>
            <li><a href="/Account/Logout">Изход</a></li>

        </ul>
    </div>
</div>

<div class="wrapper w-100">
    <div class="BodyContent surveydetailview bg-white h-100 pl-3  px-5">
        @using (Html.BeginForm("AdminProfile", "User", FormMethod.Post, new { @class = "kt-form w-90", @enctype = "multipart/form-data" }))
        {
        <div class="d-flex w-25 pt-4">
            <div class="w-75 align-self-center ">
                <h1 class="font-18 mb-1 mt-2 usernameprofilesection">Профил</h1>
                @*<p class="mutedtext font-12">@Model.Id</p>*@
            </div>
        </div>

        <div class="d-flex mt-5">
            <div class="col-md-6 pl-0">
                <div class="mb-4">
                    <label class="mb-1">Потребителско име</label>
                    @Html.HiddenFor(i => i.Id)
                    @Html.TextBoxFor(m => m.email, new { @type = "email", @class = "themecustomInput w-91", @placeholder = "потребителско име", @autocomplete = "off", @readonly = "readonly" })<br />
                    @Html.ValidationMessageFor(x => x.email, "", new { @class = "text-danger" })


                </div>
                <div class="mb-4">
                    <label class="mb-1">Име и фамилия</label>
                    @*<input type="text" class="themecustomInput" placeholder="name" />*@
                    <div class="d-flex">
                        <div class="w-100">
                            @Html.TextBoxFor(m => m.surname, new { @type = "text", @class = "themecustomInput", @placeholder = "Име и фамилия", @autocomplete = "off", @readonly = "readonly" })<br />
                            @Html.ValidationMessageFor(x => x.surname, "", new { @class = "text-danger" })
                        </div>
                        <div class="w-10 text-center">
                            <img src="~/Assets/Edit_icon.svg" id="imSurname" />
                        </div>
                    </div>

                </div>
                
            </div>
            <div class="col-md-6 pr-0">
                <div class="mb-4">
                    <label class="mb-1">Парола</label>

                    <div class="d-flex">
                        <div class="w-75" id="divPassword">
                            @Html.TextBoxFor(m => m.password, new { @type = "password", @class = "themecustomInput", @placeholder = "Парола", @autocomplete = "off", @readonly = "readonly" })<br />
                            @Html.ValidationMessageFor(x => x.password, "", new { @class = "text-danger" })
                        </div>

                        <div class="w-75" id="divUpdate" style="display:none;">
                            @Html.TextBoxFor(m => m.updatePassword, new { @type = "password", @class = "themecustomInput", @placeholder = "Парола", @autocomplete = "off" })<br />
                            @Html.ValidationMessageFor(x => x.password, "", new { @class = "text-danger" })
                        </div>

                        <div class="w-10 text-center">
                            <img src="~/Assets/Edit_icon.svg" id="imPassword" />
                        </div>
                    </div>

                </div>

               
            </div>
        </div>
        <div class="mt-3">
            <button class="themeBtn m-0 px-5" type="submit">Запазване на промените</button>
        </div>
        }

    </div>
</div>


<script type="text/javascript">
  $(document).ready(function() {
     var msg = '@TempData["Message"]';
      if (msg != null && msg != "" && msg != undefined) {
          toastr.success(msg);
      }
  });

    $("#imSurname").click(function () {
        resetControl();
        $("#surname").prop("readonly", false);
        $("#surname").attr("style", "border: 1px solid #95d8ce !important");
    });

    $("#imPassword").click(function () {
        resetControl();
        $("#divPassword").hide();
        $("#divUpdate").show();
        $("#updatePassword").attr("style", "border: 1px solid #95d8ce !important");
    });



    function resetControl() {
        $("#surname").attr("style", "border: none !important");
        $("#updatePassword").attr("style", "border: none !important");
    }


</script>